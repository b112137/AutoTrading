# Electricity-Forecasting
## Command 
`python trader.py --training training.csv --testing testing.csv --output output.csv`

## Our Idea
### LSTM 模型配適
1. 讀取training data，將特徵進行shift，每一個row會有過去10天的開盤價、收盤價、高峰、低峰，以及要預測的下一天的開盤價
2. 建構LSTM模型，模型架構如下
![](./src/model.png)
3. 使用前處理完的資料訓練LSTM模型，epoch為1000，batch_size為32，使用的loss function是MSE，並使用Adam優化
4. 讀取testing data，將特徵進行shift，每一個row會有過去10天的開盤價、收盤價、高峰、低峰
5. 使用先前訓練完的模型對testing data做預測，將預測結果儲存下來供後續使用
6. 股票買賣規則
	* 第一天無論如何都買進股票
	* 第二天開始可觀察前兩天的漲跌狀況以及明天的漲跌預測來進行操盤動作
		* 若前兩天狀態:漲、漲
			* 若手中有股票
				* 若明天預測為漲：賣出
				* 若明天預測為跌：賣出
			* 若手中無股票
				* 若明天預測為漲：賣空
				* 若明天預測為跌：無
			* 若已賣空
				* 若明天預測為漲：無
				* 若明天預測為跌：無
				
		* 若前兩天狀態:漲、跌
			* 若手中有股票
				* 若明天預測為漲：無
				* 若明天預測為跌：無
			* 若手中無股票
				* 若明天預測為漲：無
				* 若明天預測為跌：買進
			* 若已賣空
				* 若明天預測為漲：無
				* 若明天預測為跌：買進

		* 若前兩天狀態:跌、漲
			* 若手中有股票
				* 若明天預測為漲：賣出
				* 若明天預測為跌：無
			* 若手中無股票
				* 若明天預測為漲：買進
				* 若明天預測為跌：賣空
			* 若已賣空
				* 若明天預測為漲：無
				* 若明天預測為跌：無
				
		* 若前兩天狀態:跌、跌
			* 若手中有股票
				* 若明天預測為漲：無
				* 若明天預測為跌：無
			* 若手中無股票
				* 若明天預測為漲：無
				* 若明天預測為跌：無
			* 若已賣空
				* 若明天預測為漲：買進
				* 若明天預測為跌：買進
